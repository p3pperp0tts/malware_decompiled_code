using System;
using System.IO;
using System.Runtime.InteropServices;
using System.Runtime.Serialization.Formatters.Binary;

namespace JLibrary.Tools
{
	// Token: 0x02000024 RID: 36
	public static class Utils
	{
		// Token: 0x060000E1 RID: 225 RVA: 0x0000C4F0 File Offset: 0x0000A6F0
		public static string WriteTempData(byte[] data)
		{
			if (data == null)
			{
				throw new ArgumentNullException("data");
			}
			string text = null;
			try
			{
				text = Path.GetTempFileName();
			}
			catch (IOException)
			{
				text = Path.Combine(Directory.GetCurrentDirectory(), Path.GetRandomFileName());
			}
			try
			{
				File.WriteAllBytes(text, data);
			}
			catch
			{
				text = null;
			}
			return text;
		}

		// Token: 0x060000E2 RID: 226 RVA: 0x0000C554 File Offset: 0x0000A754
		public static T DeepClone<T>(T obj)
		{
			T result;
			using (MemoryStream memoryStream = new MemoryStream())
			{
				BinaryFormatter binaryFormatter = new BinaryFormatter();
				binaryFormatter.Serialize(memoryStream, obj);
				memoryStream.Position = 0L;
				result = (T)((object)binaryFormatter.Deserialize(memoryStream));
			}
			return result;
		}

		// Token: 0x060000E3 RID: 227 RVA: 0x000025E7 File Offset: 0x000007E7
		public static uint SizeOf(this Type t)
		{
			return (uint)Marshal.SizeOf(t);
		}
	}
}
